(this["webpackJsonptest-pizza"]=this["webpackJsonptest-pizza"]||[]).push([[0],Array(28).concat([function(e,t,a){e.exports=a.p+"static/media/driver-male.3cf59282.svg"},function(e,t,a){e.exports=a.p+"static/media/driver-famale.684cf633.svg"},function(e,t,a){e.exports=a.p+"static/media/waiter.46617dfa.svg"},function(e,t,a){e.exports=a.p+"static/media/waitres.67d6c79f.svg"},function(e,t,a){e.exports=a.p+"static/media/chef-male.2c338c6c.svg"},function(e,t,a){e.exports=a.p+"static/media/chef-famale.3217df05.svg"},,,,,function(e,t,a){e.exports=a(66)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),c=a(20),s=a(0),o=a.n(s),l=a(16),i=a.n(l),u=a(10),m=a(18),p=a(15);var d=Object(m.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMPLOYEES":case"SORT_BY_NAME_ASC":case"SORT_BY_NAME_DESC":case"SORT_BY_DATE_ASC":case"SORT_BY_DATE_DESC":return Object(p.a)({},e,{employees:t.employees});default:return e}}}),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(m.c)(d,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return t}();function h(e){return{type:"ADD_EMPLOYEES",employees:e}}function E(e,t,a,n){return new Promise((function(r,c){var s=new XMLHttpRequest;s.open(e,t),n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){this.status>=200&&this.status<300?r(s.response):c({status:this.status,statusText:s.statusText})},s.onerror=function(){c({status:this.status,statusText:s.statusText})},s.send(a)}))}var v=a(35),y=a(12),b=a(1),O=a(2),_=a(4),j=a(3),w=(a(48),a(49),a(50),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("a",{href:"/",className:"logo"},"Logo")}}]),a}(s.Component)),N=(a(51),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},this.props.children)}}]),a}(s.Component)),k=(a(52),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("ul",{className:"menu"},o.a.createElement("li",{className:"menu__item"},o.a.createElement("a",{href:"/",className:"menu__link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),o.a.createElement("li",{className:"menu__item"},o.a.createElement("a",{href:"/employees",className:"menu__link"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438")))}}]),a}(s.Component)),C=function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("header",{className:"header"},o.a.createElement(N,null,o.a.createElement("div",{className:"header__wrapper"},o.a.createElement(w,null),o.a.createElement(k,null))))}}]),a}(s.Component),S=(a(53),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement(N,null,o.a.createElement("div",{className:"footer__wrapper"},o.a.createElement(w,null),o.a.createElement(k,null))))}}]),a}(s.Component)),g=(a(54),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"page-wrapper"},this.props.children)}}]),a}(s.Component)),D=(a(55),a(56),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("h1",{className:"page-title"},this.props.children)}}]),a}(s.Component)),B=a(6),T=(a(57),a(58),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={dropdown:"",select:""},n.refSelect=o.a.createRef(),n.dropdownToggle=n.dropdownToggle.bind(Object(B.a)(n)),n.dropdownSelect=n.dropdownSelect.bind(Object(B.a)(n)),n.windowEvent=n.windowEvent.bind(Object(B.a)(n)),n}return Object(O.a)(a,[{key:"dropdownToggle",value:function(){this.state.dropdown?this.setState({dropdown:""}):(this.setState({dropdown:"open"}),this.addClickOutside())}},{key:"dropdownSelect",value:function(e){e.preventDefault(),this.setState({dropdown:"",select:e.currentTarget.innerText}),this.props.func(e.currentTarget.innerText,this.refSelect.current)}},{key:"addClickOutside",value:function(){window.addEventListener("click",this.windowEvent)}},{key:"removeClickOutside",value:function(){window.removeEventListener("click",this.windowEvent)}},{key:"windowEvent",value:function(e){this.refSelect.current.contains(e.target)||(this.setState({dropdown:""}),this.removeClickOutside())}},{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=t.name;return o.a.createElement("div",{className:"custom-select",ref:this.refSelect},o.a.createElement("input",{type:"hidden",name:"select",value:n}),o.a.createElement("button",{type:"button",className:"custom-select-header","data-selected":this.state.select,onClick:this.dropdownToggle},o.a.createElement("span",{className:"custom-select-header__option"},n)),o.a.createElement("div",{className:"custom-select-dropdown "+this.state.dropdown},a.map((function(t,a){return o.a.createElement("div",{className:"custom-select-dropdown__item",key:a},o.a.createElement("a",{href:"#dropdown",className:e.state.select===t?"custom-select-dropdown__option active":"custom-select-dropdown__option",onClick:e.dropdownSelect},t))}))))}}]),a}(s.Component)),A=(a(59),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).onChange=n.onChange.bind(Object(B.a)(n)),n}return Object(O.a)(a,[{key:"onChange",value:function(e){var t=e.target.checked;this.props.func&&this.props.func(t)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.children;return o.a.createElement("label",{className:"checkbox"},o.a.createElement("input",{name:t,type:"checkbox",className:"checkbox__input",onChange:this.onChange,defaultChecked:this.props.checked}),o.a.createElement("span",{className:"checkbox__text"},a))}}]),a}(s.Component)),x=function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).sortByName=n.sortByName.bind(Object(B.a)(n)),n.sortByDate=n.sortByDate.bind(Object(B.a)(n)),n.updateByPost=n.updateByPost.bind(Object(B.a)(n)),n.archive=n.archive.bind(Object(B.a)(n)),n.showAllEmployees=n.showAllEmployees.bind(Object(B.a)(n)),n.filteredEmployees=[],n}return Object(O.a)(a,[{key:"sortByName",value:function(e){"ASC"===e&&this.props.sortByNameASC(this.props.employees),"DESC"===e&&this.props.sortByNameDESC(this.props.employees)}},{key:"sortByDate",value:function(e){"ASC"===e&&this.props.sortByDateASC(this.props.employees),"DESC"===e&&this.props.sortByDateDESC(this.props.employees)}},{key:"sortByPost",value:function(e){var t="";switch(e){case"\u041f\u043e\u0432\u0430\u0440":t="cook";break;case"\u041a\u0443\u0440\u044c\u0435\u0440":t="driver";break;case"\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442":t="waiter"}return this.allEmployees.filter((function(e){return t===e.role}))}},{key:"updateByPost",value:function(e){var t=this.sortByPost(e);this.props.addEmployees(t),this.filteredEmployees=t}},{key:"archive",value:function(e){var t=(this.filteredEmployees.length?this.filteredEmployees:this.allEmployees).filter((function(t){return t.isArchive===e}));this.props.addEmployees(t)}},{key:"showAllEmployees",value:function(){console.log(this.allEmployees),this.props.addEmployees(this.allEmployees),this.filteredEmployees=[]}},{key:"componentDidUpdate",value:function(e){void 0===this.allEmployees&&(this.allEmployees=this.props.employees)}},{key:"render",value:function(){return o.a.createElement("div",{className:"filter"},o.a.createElement("button",{type:"button",className:"reset-filters",onClick:this.showAllEmployees},"\u0412\u0441\u0435"),o.a.createElement(T,{values:["ASC","DESC"],name:"\u041f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",func:this.sortByName}),o.a.createElement(T,{values:["ASC","DESC"],name:"\u041f\u043e \u0434\u0430\u0442\u0435",func:this.sortByDate}),o.a.createElement(T,{values:["\u041f\u043e\u0432\u0430\u0440","\u041a\u0443\u0440\u044c\u0435\u0440","\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442"],name:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",func:this.updateByPost}),o.a.createElement(A,{func:this.archive},"\u0412 \u0430\u0440\u0445\u0438\u0432\u0435"))}}]),a}(s.Component),R=Object(u.b)((function(e){return{employees:e.employees.employees}}),(function(e){return{addEmployees:function(t){return e(h(t))},sortByNameASC:function(t){return e(function(e){return{type:"SORT_BY_NAME_ASC",employees:e=e.sort((function(e,t){return e.name>t.name?1:-1}))}}(t))},sortByNameDESC:function(t){return e(function(e){return{type:"SORT_BY_NAME_DESC",employees:e=e.sort((function(e,t){return e.name<t.name?1:-1}))}}(t))},sortByDateASC:function(t){return e(function(e){return{type:"SORT_BY_DATE_ASC",employees:e=e.sort((function(e,t){var a=e.birthday.split(".").reverse().join(),n=t.birthday.split(".").reverse().join();return a<n?-1:a>n?1:0}))}}(t))},sortByDateDESC:function(t){return e(function(e){return{type:"SORT_BY_DATE_DESC",employees:e=e.sort((function(e,t){var a=e.birthday.split(".").reverse().join(),n=t.birthday.split(".").reverse().join();return a>n?-1:a<n?1:0}))}}(t))}}}))(x),P=(a(60),a(28)),Y=a.n(P),L=a(29),U=a.n(L),M=a(30),X=a.n(M),z=a(31),I=a.n(z),q=a(32),F=a.n(q),J=a(33),W=a.n(J),H=function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e,t=this.props.employe;if("male"===t.gender)switch(t.role){case"driver":e=Y.a;break;case"waiter":e=X.a;break;case"cook":e=F.a}else switch(t.role){case"driver":e=U.a;break;case"waiter":e=I.a;break;case"cook":e=W.a}return o.a.createElement("div",{className:"card"},o.a.createElement("img",{src:e,className:"card__icon",alt:"user-icon"}),o.a.createElement("div",{className:"card__row"},o.a.createElement("span",{className:"card__role"},t.role)),o.a.createElement("div",{className:"card__row"},o.a.createElement("a",{href:"/employee?id="+t.id,className:"card__name"},t.name)),o.a.createElement("div",{className:"card__row"},o.a.createElement("a",{href:"tel:"+t.phone,className:"card__phone"},t.phone),o.a.createElement("span",{className:"card__birthday"},t.birthday)))}}]),a}(s.Component),V=function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.employees.employees;return o.a.createElement("section",{className:"page"},o.a.createElement(N,null,o.a.createElement(D,null,"\u041f\u0438\u0446\u0446\u0430\u0424\u0430\u0431\u0440\u0438\u043a\u0430"),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-text"},o.a.createElement("p",null,o.a.createElement("span",{className:"main-color"},"\u041f\u0438\u0446\u0446\u0430\u0424\u0430\u0431\u0440\u0438\u043a\u0430")," - \u044d\u0442\u043e \u0441\u0435\u0442\u044c \u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0445 \u043a\u0430\u0444\u0435 \u0438 \u043f\u0438\u0446\u0446\u0435\u0440\u0438\u0439 \u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u043e\u0439, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0449\u0430\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0431\u043b\u044e\u0434\u0430 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043a\u0443\u0445\u043d\u0438: \u043f\u0438\u0446\u0446\u0430, \u0440\u043e\u043b\u043b\u044b, \u043b\u0430\u043f\u0448\u0430 WOK. \u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u043d\u0430\u0448\u0438 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u2013 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0442\u043e, \u0447\u0442\u043e \u043c\u044b \u043a\u043e\u0440\u043c\u0438\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043f\u043e \u043b\u044e\u0431\u043e\u043c\u0443 \u043f\u043e\u0432\u043e\u0434\u0443 (\u043f\u043e\u043c\u0438\u043c\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e, \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447\u0438, \u0432\u0435\u0447\u0435\u0440\u043d\u0435\u0435 \u0438 \u0434\u0435\u0442\u0441\u043a\u043e\u0435 \u043c\u0435\u043d\u044e). \u041d\u0430\u0448\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u043e\u0439!"),o.a.createElement("h2",null,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438")),o.a.createElement(R,null),o.a.createElement("div",{className:"employees"},e?o.a.createElement(o.a.Fragment,null,e.map((function(e,t){return o.a.createElement(H,{employe:e,key:t})}))):o.a.createElement("div",null,"loading...")))))}}]),a}(s.Component);var G=Object(u.b)((function(e){return{employees:e.employees}}))(V),K=(a(61),a(62),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return o.a.createElement("section",{className:"page"},this.props.children)}}]),a}(s.Component)),$=function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.employees.employees;return o.a.createElement(K,null,o.a.createElement(N,null,o.a.createElement(D,null,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"),o.a.createElement(R,null),o.a.createElement("div",{className:"employees"},e?o.a.createElement(o.a.Fragment,null,e.map((function(e,t){return o.a.createElement(H,{employe:e,key:t})}))):o.a.createElement("div",null,"loading..."))))}}]),a}(s.Component);var Q=Object(u.b)((function(e){return{employees:e.employees}}))($),Z=a(37),ee=a(34),te=a.n(ee),ae=(a(64),function(e){Object(_.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).dropdownName=n.dropdownName.bind(Object(B.a)(n)),n.userUpdate=n.userUpdate.bind(Object(B.a)(n)),n}return Object(O.a)(a,[{key:"dropdownName",value:function(e,t){t.querySelector(".custom-select-header__option").innerText=e}},{key:"translete",value:function(e){switch(e){case"driver":return"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c";case"waiter":return"\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442";case"cook":return"\u041f\u043e\u0432\u0430\u0440";default:return"\u043e\u0448\u0438\u0431\u043a\u0430"}}},{key:"userUpdate",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData(t.target)).append("userId",this.props.store.employee.id),e.next=5,fetch("api/employees.json",{method:"PUT",body:a}).then((function(e){return e.json()}));case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.store.employee,t=this.translete(e.role);return o.a.createElement(K,null,o.a.createElement(N,null,o.a.createElement(D,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),e?o.a.createElement("form",{className:"edit-form",onSubmit:this.userUpdate},o.a.createElement("div",{className:"edit-form__row"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"field__name"},"\u0418\u043c\u044f"),o.a.createElement("input",{name:"employee-name",type:"text",className:"field__input",placeholder:e.name})),o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"field__name"},"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),o.a.createElement(T,{values:["\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c","\u041f\u043e\u0432\u0430\u0440","\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442"],name:t,func:this.dropdownName}))),o.a.createElement("div",{className:"edit-form__row"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"field__name"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),o.a.createElement(te.a,{name:"employee-phone",className:"field__input",mask:"+7 (999) 999-99-99",placeholder:e.phone})),o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"field__name"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),o.a.createElement("input",{name:"employee-birthday",type:"date",className:"field__input",placeholder:e.birthday}))),o.a.createElement("div",{className:"edit-form__row"},o.a.createElement("div",{className:"field field--center"},o.a.createElement(A,{name:"archive",checked:e.isArchive},"\u0412 \u0430\u0440\u0445\u0438\u0432\u0435"))),o.a.createElement("div",{className:"edit-form__row"},o.a.createElement("div",{className:"field field--center"},o.a.createElement("input",{type:"submit",className:"field__submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})))):null))}}]),a}(s.Component));var ne=Object(u.b)((function(e){var t;return e.employees&&(t=function(e,t){var a={};if(t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(Z.a)(r[n],2),s=c[0],o=c[1];if(o.id===e&&s)return a=o}return a}(+function(){var e=window.location.search.replace("?","").split("&"),t="";return e.forEach((function(e){var a=e.split("=");"id"===a[0]&&(t=a[1])})),t}(),e.employees.employees)),{store:{employee:t}}}))(ae);var re=function(){return o.a.createElement(v.a,null,o.a.createElement(g,null,o.a.createElement(C,null),o.a.createElement(y.c,null,o.a.createElement(y.a,{path:"/employees"},o.a.createElement(Q,null)),o.a.createElement(y.a,{path:"/employee"},o.a.createElement(ne,null)),o.a.createElement(y.a,{path:"/"},o.a.createElement(G,null)))),o.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(){return(ce=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",employees:{url:"/api/employees.json"}},e.next=3,E(t.method,t.employees.url,{},!0);case 3:a=e.sent,n=JSON.parse(a),f.dispatch(h(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){ce.apply(this,arguments)}(),f.subscribe((function(){})),i.a.render(o.a.createElement(u.a,{store:f},o.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[38,1,2]]]);
//# sourceMappingURL=main.8cd70794.chunk.js.map